/* =========================================================
   MYQER — app.css (single source of truth)
   Glassy UI, responsive grid, dashboard + auth screens
   ========================================================= */

/* ---------- Design tokens ---------- */
:root{
  /* brand */
  --brand:#c62828;                 /* MYQER red */
  --brand-press:#a51e1e;

  /* text & surfaces */
  --ink:#111214;
  --muted:#6b7280;
  --paper: #ffffff;

  /* glass + lines */
  --glass:rgba(255,255,255,.62);
  --glass-strong:rgba(255,255,255,.82);
  --stroke:rgba(13,18,22,.10);
  --shadow:0 18px 40px rgba(0,0,0,.10);

  /* layout */
  --radius:18px;
  --gap:18px;
  --max:1180px;

  /* focus ring */
  --focus:0 0 0 4px rgba(198,40,40,.16);
}

/* ---------- Base ---------- */
*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;
  color:var(--ink);
  font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
  background:linear-gradient(135deg,#f7f8fb,#e8eef6) fixed;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
  overflow-x:hidden;            /* stop sideways scroll on iPhone */
}
img{display:block;max-width:100%;height:auto}
a{color:inherit}

/* ---------- Containers ---------- */
.container{width:100%;max-width:var(--max);margin-inline:auto;padding-inline:16px}

/* ---------- Header (brand + language + logout) ---------- */
.app-header{
  position:sticky; top:0; z-index:40;
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:14px 18px;
  background:rgba(255,255,255,.55);
  backdrop-filter:blur(22px);
  border-bottom:1px solid var(--stroke);
}
.brand{display:inline-flex; gap:0; font-weight:800; letter-spacing:.3px; text-decoration:none}
.brand span:not(.er){color:#111}
.brand .er{color:var(--brand)}
.header-actions{display:flex; align-items:center; gap:10px}

/* ---------- Buttons & Pills ---------- */
.btn, .pill{
  display:inline-flex; align-items:center; justify-content:center;
  gap:.5rem; padding:.68rem 1rem; border-radius:999px;
  background:var(--glass-strong); border:1px solid var(--stroke);
  cursor:pointer; user-select:none; transition:filter .15s, transform .06s;
}
.btn:hover,.pill:hover{filter:brightness(1.03)}
.btn:active,.pill:active{transform:translateY(1px)}
.btn[disabled]{opacity:.55; cursor:not-allowed}

.btn.primary{background:var(--brand); border-color:var(--brand); color:#fff; box-shadow:0 8px 24px rgba(198,40,40,.22)}
.btn.primary:active{background:var(--brand-press)}

.btn.ghost,.pill.ghost{background:transparent}

/* ---------- Inputs & fields ---------- */
label{display:block; font-size:.92rem; margin:0 0 6px}
input,select,textarea{
  width:100%; padding:.78rem .9rem; border-radius:14px;
  border:1px solid var(--stroke); background:var(--glass-strong);
  outline:none; transition:box-shadow .15s, border-color .15s, background .15s;
  font-size:16px;                 /* avoid iOS zoom */
}
input:focus,select:focus,textarea:focus{box-shadow:var(--focus); background:#fff}

.field{margin:10px 0}
.field.critical input,.field.critical textarea{border-color:rgba(198,40,40,.35)}
.field.critical input:focus,.field.critical textarea:focus{box-shadow:0 0 0 3px rgba(198,40,40,.25)}
.field.warning  input,.field.warning  textarea{border-color:rgba(234,179,8,.35)}
.field.warning  input:focus,.field.warning  textarea:focus{box-shadow:0 0 0 3px rgba(234,179,8,.25)}

/* ---------- Glass cards ---------- */
.card{
  background:var(--glass);
  backdrop-filter:blur(22px);
  border:1px solid var(--stroke);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
}
.card-head{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:6px}
.card h2{margin:.25rem 0 6px; font-size:1.2rem}
.muted{color:var(--muted)}
.tiny{font-size:.86rem}

/* ---------- Responsive grid ---------- */
.app-wrap{
  width:100%; max-width:var(--max); margin:28px auto; padding:0 16px;
  display:grid; gap:var(--gap); grid-template-columns:1fr;
}
@media (min-width:900px){ .app-wrap{grid-template-columns:1fr 1fr} }
@media (min-width:1200px){ .app-wrap{grid-template-columns:1fr 1fr 1fr} }

/* ---------- Dashboard specifics ---------- */

/* triage badge */
.triage{display:flex; align-items:center; gap:10px}
.triage .label{font-size:.92rem; color:var(--muted)}
.badge{
  padding:.35rem .7rem; border-radius:999px; font-weight:700; letter-spacing:.2px;
  border:1px solid var(--stroke); background:#fff;
}
.badge[data-color="green"] {background:#e8ffe8; color:#0b7a0b; border-color:#b7f0b7}
.badge[data-color="yellow"]{background:#fff7db; color:#a76a00; border-color:#ffd38a}
.badge[data-color="red"]   {background:#ffe6e6; color:#a20000; border-color:#ffb3b3}
.badge[data-color="black"] {background:#f0f1f3; color:#111;   border-color:#d5d8dd}

/* ICE list */
.ice-list{display:grid; gap:10px; margin:8px 0 12px}
.ice-row{
  display:grid; align-items:center; gap:8px;
  grid-template-columns: 1.6fr 1.1fr 1.4fr auto;
  background:rgba(255,255,255,.66);
  border:1px solid var(--stroke); border-radius:14px; padding:10px;
}
.ice-row .del{border:none; background:transparent; cursor:pointer; padding:.4rem .5rem}
.ice-row .del:hover{filter:brightness(.9)}

/* QR & code preview */
.qr-box{
  min-height:260px; display:grid; place-items:center;
  background:rgba(255,255,255,.68);
  border:1px dashed #d8dde6; border-radius:16px; margin:6px 0 12px;
}
.code-box{
  min-height:120px; max-height:260px; overflow:auto;
  border-radius:14px; border:1px solid var(--stroke);
  background:#0d1117; color:#e6edf3; padding:12px;
  font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
}

/* Footer badges */
.app-footer{max-width:var(--max); margin:28px auto 40px; padding:0 16px; text-align:center; color:var(--muted)}
.badges{list-style:none; padding:0; margin:0 0 8px; display:flex; gap:8px; flex-wrap:wrap; justify-content:center}
.badges li{font-size:.85rem; border:1px solid var(--stroke); border-radius:999px; padding:.35rem .7rem; background:rgba(255,255,255,.66)}

/* ---------- AUTH (login / register / reset) ---------- */
/* This section is the **only** source of truth for auth styling. */
.auth-root{min-height:100dvh; display:grid; place-items:center; padding:20px}
.auth-card{
  width:min(560px, 92vw);
  padding:24px;
  border-radius:18px;
  background:rgba(255,255,255,.78);
  backdrop-filter:blur(18px);
  border:1px solid rgba(0,0,0,.06);
  box-shadow:0 30px 60px rgba(17,18,20,.08);
  text-align:center;
}
.auth-header{margin-bottom:18px}
.auth-subtle{color:var(--muted); font-size:.98rem}

/* Inputs */
.auth-label{display:block; font-size:.92rem; font-weight:700; color:#2a2f36; margin:10px 4px 6px}
.auth-field{
  width:100%; height:48px;
  padding:0 14px; border-radius:12px;
  border:1px solid rgba(0,0,0,.12);
  background:var(--paper); font-size:16px; line-height:48px;
}
.auth-field:focus{outline:none; box-shadow:var(--focus); border-color:var(--brand)}

/* Password show button IN the input */
.password-wrapper{position:relative}
.password-wrapper .auth-field{padding-right:96px}
.password-toggle{
  position:absolute; right:6px; top:50%; transform:translateY(-50%);
  height:36px; padding:0 14px;
  border-radius:999px; border:1px solid rgba(0,0,0,.12);
  background:#f7f7f9; font-size:14px; font-weight:600; cursor:pointer;
}

/* Actions — stacked, tidy and centered */
.auth-actions{
  display:grid; grid-template-columns:1fr; gap:12px; margin-top:16px;
}
.auth-actions .btn{
  width:100%; height:50px; border-radius:14px; font-size:16px; font-weight:700; letter-spacing:.1px;
  border:1px solid rgba(0,0,0,.12); background:#fff; text-decoration:none;
}
.auth-actions .btn-primary{background:var(--brand); border-color:var(--brand); color:#fff; box-shadow:0 8px 20px rgba(198,40,40,.22)}
.auth-actions .btn-primary:active{transform:translateY(1px)}
.auth-actions .btn-secondary{background:#fff; color:#111827}
.auth-actions .btn-link{background:transparent; border:0; height:auto; color:#6b7280; font-weight:600}

/* Make the 3 options feel visually smaller inside a generous card */
.auth-actions .btn, .auth-field{max-width:420px; margin-inline:auto}

/* Helper rows (terms/links) */
.auth-meta{margin-top:14px; color:var(--muted); font-size:.9rem}

/* Mobile tweaks */
@media (max-width:480px){
  .auth-card{padding:20px; width:94vw}
  .auth-card h1,.auth-card h2{font-size:1.45rem}
}

/* ---------- Utility helpers ---------- */
.row{display:flex; gap:10px; align-items:center}
.row.wrap{flex-wrap:wrap}
.center{text-align:center}
.hidden{display:none !important}

/* ---------- Plans (cards section) ---------- */
.plans-grid{
  display:grid; gap:18px; grid-template-columns:1fr; align-items:stretch;
}
@media(min-width:900px){ .plans-grid{grid-template-columns:1fr 1fr} }

.plan{
  border-radius:22px; background:rgba(255,255,255,.68); backdrop-filter:blur(18px);
  border:1px solid var(--stroke); box-shadow:var(--shadow); padding:18px;
}
.plan .title{font-size:1.25rem; font-weight:800; margin:4px 0 8px}
.pillbar{
  display:block; width:100%; height:36px; border-radius:999px;
  background:#e9edf1; border:1px solid var(--stroke);
}
.pillbar.red{background:var(--brand); border-color:var(--brand); color:#fff; display:grid; place-items:center; font-weight:700}
.pillbar.grey{background:#eef0f3; color:#5b6772; display:grid; place-items:center; font-weight:700}

/* ---------- Fixes for Safari rounding & tap highlights ---------- */
button, a, input, select, textarea{ -webkit-tap-highlight-color: transparent; }
